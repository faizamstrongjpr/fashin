const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/search-DD1bGYIM.js","assets/home-BNI_u4O8.js","assets/favorites-CGjLpHEf.js","assets/playlists-DW0ccviJ.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const r of a.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&s(r)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function s(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();const yt="modulepreload",Et=function(t){return"/"+t},Z={},b=function(e,n,s){let i=Promise.resolve();if(n&&n.length>0){let r=function(d){return Promise.all(d.map(h=>Promise.resolve(h).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));i=r(n.map(d=>{if(d=Et(d),d in Z)return;Z[d]=!0;const h=d.endsWith(".css"),m=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const f=document.createElement("link");if(f.rel=h?"stylesheet":yt,h||(f.as="script"),f.crossOrigin="",f.href=d,u&&f.setAttribute("nonce",u),document.head.appendChild(f),h)return new Promise((R,U)=>{f.addEventListener("load",R),f.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(r){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r}return i.then(r=>{for(const c of r||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},g={FAVORITES:"fashin_favorites",PLAYLISTS:"fashin_playlists",RECENT:"fashin_recent",EQ_SETTINGS:"fashin_eq",VOLUME:"fashin_volume"};function C(t,e=null){try{const n=localStorage.getItem(t);return n?JSON.parse(n):e}catch{return e}}function p(t,e){localStorage.setItem(t,JSON.stringify(e))}function st(){return C(g.FAVORITES,[])}function vt(t){return st().some(e=>e.id===t)}function W(t){const e=st(),n=e.findIndex(s=>s.id===t.id);return n>=0?(e.splice(n,1),p(g.FAVORITES,e),!1):(e.unshift({id:t.id,title:t.title,artist:t.artist,artistId:t.artistId,album:t.album,albumArt:t.albumArt,albumArtSmall:t.albumArtSmall,duration:t.duration,addedAt:Date.now()}),p(g.FAVORITES,e),!0)}function _(){return C(g.PLAYLISTS,[])}function Ft(t){return _().find(e=>e.id===t)}function zt(t){const e=_(),n={id:"pl_"+Date.now(),name:t,tracks:[],createdAt:Date.now()};return e.push(n),p(g.PLAYLISTS,e),n}function Qt(t){const e=_().filter(n=>n.id!==t);p(g.PLAYLISTS,e)}function Lt(t,e){const n=_(),s=n.find(i=>i.id===t);return!s||s.tracks.some(i=>i.id===e.id)?!1:(s.tracks.push({id:e.id,title:e.title,artist:e.artist,artistId:e.artistId,album:e.album,albumArt:e.albumArt,albumArtSmall:e.albumArtSmall,duration:e.duration}),p(g.PLAYLISTS,n),!0)}function It(){return C(g.RECENT,[])}function Tt(t){let e=It();e=e.filter(n=>n.id!==t.id),e.unshift({id:t.id,title:t.title,artist:t.artist,artistId:t.artistId,album:t.album,albumArt:t.albumArt,albumArtSmall:t.albumArtSmall,duration:t.duration}),e.length>30&&(e=e.slice(0,30)),p(g.RECENT,e)}function at(t){p(g.EQ_SETTINGS,t)}function ot(){return C(g.VOLUME,80)}function bt(t){p(g.VOLUME,t)}function wt(){return C("fashin_quality","high")}function jt(t){p("fashin_quality",t)}const $="fashin_search_history",X=20;function rt(){return C($,[])}function Yt(t){let e=rt();e=e.filter(n=>n.toLowerCase()!==t.toLowerCase()),e.unshift(t),e.length>X&&(e=e.slice(0,X)),p($,e)}function Gt(t){let e=rt();e=e.filter(n=>n!==t),p($,e)}function Jt(){localStorage.removeItem($)}let w="/api";const k=new Map;async function St(t){const e=new AbortController,n=setTimeout(()=>e.abort(),1e4);try{let s=`${w}/search?q=${encodeURIComponent(t)}`;try{const i=await fetch(s,{signal:e.signal});if(clearTimeout(n),!i.ok)throw new Error(`Search failed: ${i.status}`);return(await i.json()).items||[]}catch(i){if(i.message.includes("Failed to fetch")&&w.includes("localhost")){w="http://127.0.0.1:3333/api",s=`${w}/search?q=${encodeURIComponent(t)}`;const a=await fetch(s,{signal:e.signal});return clearTimeout(n),(await a.json()).items||[]}throw i}}catch(s){throw clearTimeout(n),s}}async function At(t){const e=wt();if(t.id&&/[a-zA-Z]/.test(t.id)){const i=`${w}/audio/${t.id}?quality=${e}`;return console.log(`⚡ Direct play: ${t.id} (Quality: ${e})`),i}const n=`${t.artist}-${t.title}-${e}`;if(k.has(n)){const i=k.get(n);if(Date.now()-i.timestamp<18e5)return i.url}const s=[`${t.artist} ${t.title}`,`${t.title} ${t.artist}`];for(const i of s)try{const a=await St(i);if(a.length){const r=a[0],c=`${w}/audio/${r.id}?quality=${e}`;return k.set(n,{url:c,timestamp:Date.now()}),c}}catch(a){console.warn(`Search failed for "${i}":`,a.message)}throw new Error("Tidak ditemukan di YouTube (Cek Backend)")}function Kt(){k.clear()}class Ct{constructor(){this.audio=new Audio,this.audio.crossOrigin="anonymous",this.audio.preload="auto",this.audioCtx=null,this.source=null,this.filters=[],this.gainNode=null,this.queue=[],this.currentIndex=-1,this.currentTrack=null,this.isPlaying=!1,this.shuffle=!1,this.repeat=0,this.volume=ot()/100,this.isLoading=!1,this._playId=0,this.onTrackChange=null,this.onPlayStateChange=null,this.onTimeUpdate=null,this.onLoading=null,this.onError=null,this._setupAudioEvents(),this.audio.volume=this.volume}_setupAudioEvents(){this.audio.addEventListener("timeupdate",()=>{this.onTimeUpdate&&this.onTimeUpdate({current:this.audio.currentTime,duration:this.audio.duration||0,progress:this.audio.duration?this.audio.currentTime/this.audio.duration*100:0})}),this.audio.addEventListener("ended",()=>this._onTrackEnded()),this.audio.addEventListener("playing",()=>{this.isPlaying=!0,this.isLoading=!1,this.onPlayStateChange&&this.onPlayStateChange(!0),this.onLoading&&this.onLoading(!1)}),this.audio.addEventListener("pause",()=>{this.isPlaying=!1,this.onPlayStateChange&&this.onPlayStateChange(!1)}),this.audio.addEventListener("waiting",()=>{this.isLoading=!0,this.onLoading&&this.onLoading(!0)}),this.audio.addEventListener("error",()=>{this.isLoading=!1,this.onLoading&&this.onLoading(!1),this.onError&&this.onError("Gagal memutar lagu")})}initAudioContext(){if(this.audioCtx)return;this.audioCtx=new(window.AudioContext||window.webkitAudioContext),this.source=this.audioCtx.createMediaElementSource(this.audio),this.gainNode=this.audioCtx.createGain();const e=[60,230,910,4e3,14e3];this.filters=e.map((s,i)=>{const a=this.audioCtx.createBiquadFilter();return a.type=i===0?"lowshelf":i===4?"highshelf":"peaking",a.frequency.value=s,a.gain.value=0,a.Q.value=1,a});let n=this.source;this.filters.forEach(s=>{n.connect(s),n=s}),n.connect(this.gainNode),this.gainNode.connect(this.audioCtx.destination)}async play(e,n=null,s=-1){var a;if(!e)return;const i=++this._playId;this.audio.pause(),this.isLoading=!0,this.onLoading&&this.onLoading(!0),n&&(this.queue=[...n],this.currentIndex=s>=0?s:n.findIndex(r=>r.id===e.id),this.currentIndex<0&&(this.currentIndex=0)),this.currentTrack=e,this.onTrackChange&&this.onTrackChange(e);try{this.audioCtx||this.initAudioContext(),((a=this.audioCtx)==null?void 0:a.state)==="suspended"&&this.audioCtx.resume().catch(()=>{});const r=await At(e);if(this._playId!==i)return;this.audio.src=r;const c=this.audio.play();c&&c.catch(()=>{}),Tt(e)}catch(r){if(this._playId!==i)return;console.error("Play error:",r),this.isLoading=!1,this.onLoading&&this.onLoading(!1),this.onError&&this.onError(`Gagal: ${r.message||"Error"}`)}}togglePlay(){this.currentTrack&&(this.isPlaying?this.audio.pause():this.audio.play().catch(()=>{}))}next(){this.queue.length&&(this.shuffle?this.currentIndex=Math.floor(Math.random()*this.queue.length):this.currentIndex=(this.currentIndex+1)%this.queue.length,this.play(this.queue[this.currentIndex]))}prev(){if(this.queue.length){if(this.audio.currentTime>3){this.audio.currentTime=0;return}this.shuffle?this.currentIndex=Math.floor(Math.random()*this.queue.length):this.currentIndex=(this.currentIndex-1+this.queue.length)%this.queue.length,this.play(this.queue[this.currentIndex])}}seek(e){this.audio.duration&&(this.audio.currentTime=e/100*this.audio.duration)}setVolume(e){this.volume=e/100,this.audio.volume=this.volume,bt(e)}toggleShuffle(){return this.shuffle=!this.shuffle,this.shuffle}toggleRepeat(){return this.repeat=(this.repeat+1)%3,this.repeat}setEQBand(e,n){this.filters[e]&&(this.filters[e].gain.value=n)}formatTime(e){if(isNaN(e))return"0:00";const n=Math.floor(e/60),s=Math.floor(e%60);return`${n}:${s.toString().padStart(2,"0")}`}_onTrackEnded(){this.repeat===2?(this.audio.currentTime=0,this.audio.play()):this.queue.length>1&&(this.repeat===1||this.currentIndex<this.queue.length-1)?this.next():(this.isPlaying=!1,this.onPlayStateChange&&this.onPlayStateChange(!1))}addToQueue(e){this.queue.push(e)}playNext(e){this.queue.splice(this.currentIndex+1,0,e)}}const l=new Ct,tt={flat:[0,0,0,0,0],bass:[6,4,0,0,0],rock:[4,2,-1,3,5],pop:[-1,2,4,2,-1],jazz:[3,1,-2,1,4],classical:[4,2,-1,2,3]};let P="flat",A=[0,0,0,0,0];function Bt(t){t.forEach((e,n)=>{l.setEQBand(n,e)})}function Pt(t){tt[t]&&(P=t,A=[...tt[t]],Bt(A),at({preset:P,bands:A}),D())}function _t(t,e){A[t]=e,l.setEQBand(t,e),P="custom",at({preset:P,bands:A}),lt()}function D(){lt(),xt()}function lt(){document.querySelectorAll(".eq-preset").forEach(t=>{t.classList.toggle("active",t.dataset.preset===P)})}function xt(){document.querySelectorAll(".eq-slider").forEach(t=>{const e=parseInt(t.dataset.band);t.value=A[e]})}function kt(){var e,n,s;document.querySelectorAll(".eq-preset").forEach(i=>{i.addEventListener("click",()=>Pt(i.dataset.preset))}),document.querySelectorAll(".eq-slider").forEach(i=>{i.addEventListener("input",()=>{const a=parseInt(i.dataset.band),r=parseFloat(i.value);_t(a,r)})});const t=document.getElementById("eq-modal");(e=document.getElementById("btn-eq"))==null||e.addEventListener("click",()=>{t.classList.remove("hidden"),D()}),(n=document.getElementById("np-eq-btn"))==null||n.addEventListener("click",()=>{t.classList.remove("hidden"),D()}),(s=document.getElementById("eq-close"))==null||s.addEventListener("click",()=>{t.classList.add("hidden")}),t==null||t.addEventListener("click",i=>{i.target===t&&t.classList.add("hidden")})}const H=new Map;let T=null,S=-1;async function ct(t,e){const n=`${t}|${e}`;if(H.has(n))return H.get(n);const s=t.split(",")[0].trim().replace(/\s*\(.*?\)\s*/g,""),i=e.replace(/\s*\(.*?\)\s*/g,"").replace(/\s*-\s*.*$/,"");try{const a=new AbortController,r=setTimeout(()=>a.abort(),8e3),c=`https://lrclib.net/api/search?artist_name=${encodeURIComponent(s)}&track_name=${encodeURIComponent(i)}`,u=await fetch(c,{signal:a.signal});if(clearTimeout(r),!u.ok)return null;const d=await u.json();if(!d||d.length===0)return null;const h=d[0],m={plain:h.plainLyrics||h.syncedLyrics||null,synced:h.syncedLyrics?$t(h.syncedLyrics):null};return(m.plain||m.synced)&&H.set(n,m),T=m,m}catch(a){return console.warn("Lyrics fetch failed:",a.message),null}}function $t(t){if(!t)return null;const e=t.split(`
`),n=[];for(const s of e){const i=s.match(/\[(\d{2}):(\d{2})\.(\d{2,3})\](.*)/);if(i){const a=parseInt(i[1]),r=parseInt(i[2]),c=parseInt(i[3].padEnd(3,"0")),u=i[4].trim(),d=a*60+r+c/1e3;n.push({time:d,text:u})}}return n.length>0?n:null}function qt(t){if(!T||!T.synced)return-1;const e=T.synced;for(let n=e.length-1;n>=0;n--)if(t>=e[n].time)return n;return-1}function dt(t,e){if(!t){e.innerHTML='<p class="lyrics-placeholder">Lirik tidak tersedia</p>';return}t.synced?(e.innerHTML=t.synced.map((n,s)=>`<p class="lyric-line" data-index="${s}">${n.text||"♪"}</p>`).join(""),S=-1):t.plain?e.textContent=t.plain:e.innerHTML='<p class="lyrics-placeholder">Lirik tidak tersedia</p>'}function Mt(t,e){if(!T||!T.synced)return;const n=qt(t);if(n!==S){if(S>=0){const s=e.querySelector(`[data-index="${S}"]`);s&&s.classList.remove("active")}if(n>=0){const s=e.querySelector(`[data-index="${n}"]`);s&&(s.classList.add("active"),s.scrollIntoView({behavior:"smooth",block:"center"}))}S=n}}function Rt(){T=null,S=-1}const Ut="/deezer-api";async function q(t){const e=`${Ut}${t}`,n=new AbortController,s=setTimeout(()=>n.abort(),12e3);try{const i=await fetch(e,{signal:n.signal,headers:{Accept:"application/json"}});if(clearTimeout(s),!i.ok)throw new Error(`Deezer API error: ${i.status}`);return await i.json()}catch(i){throw clearTimeout(s),console.error("Deezer fetch error:",i),new Error("Gagal menghubungi server musik. Periksa koneksi internet.")}}async function Zt(t,e=20){return((await q(`/search?q=${encodeURIComponent(t)}&limit=${e}`)).data||[]).map(M)}async function Wt(t=20){return((await q(`/chart/0/tracks?limit=${t}`)).data||[]).map(M)}async function Xt(t,e=20){try{return((await q(`/chart/${t}/tracks?limit=${e}`)).data||[]).map(M)}catch{return[]}}async function te(t){return((await q(`/artist/${t}/top?limit=15`)).data||[]).map(M)}function M(t){var e,n,s,i,a,r,c,u;return{id:String(t.id),title:t.title_short||t.title||"Unknown",artist:((e=t.artist)==null?void 0:e.name)||"Unknown Artist",artistId:String(((n=t.artist)==null?void 0:n.id)||""),album:((s=t.album)==null?void 0:s.title)||"",albumArt:((i=t.album)==null?void 0:i.cover_big)||((a=t.album)==null?void 0:a.cover_medium)||((r=t.album)==null?void 0:r.cover)||"",albumArtSmall:((c=t.album)==null?void 0:c.cover_small)||((u=t.album)==null?void 0:u.cover)||"",duration:(t.duration||0)*1e3,previewUrl:null}}function Ot(t){const e=Math.floor(t/1e3),n=Math.floor(e/60),s=e%60;return`${n}:${s.toString().padStart(2,"0")}`}const v={};async function Vt(t){if(!v[t])switch(t){case"home":v[t]=await b(()=>import("./home-BNI_u4O8.js"),[]);break;case"search":v[t]=await b(()=>import("./search-DD1bGYIM.js"),__vite__mapDeps([0,1]));break;case"favorites":v[t]=await b(()=>import("./favorites-CGjLpHEf.js"),__vite__mapDeps([2,1]));break;case"playlists":v[t]=await b(()=>import("./playlists-DW0ccviJ.js"),__vite__mapDeps([3,1]));break;case"settings":v[t]=await b(()=>import("./settings-CezMot4E.js"),[]);break;default:v[t]=await b(()=>import("./home-BNI_u4O8.js"),[])}return v[t]}async function ut(t){const e=t.split("/"),n=e[0]||"home",s=e[1]||null;window.location.hash=`/${t}`,document.querySelectorAll(".nav-item, .bottom-nav-item").forEach(r=>{r.classList.toggle("active",r.dataset.page===n)});const i=document.getElementById("page-container");await(await Vt(n)).render(i,s)}function et(){const t=window.location.hash.slice(2)||"home";ut(t)}let N=null;function L(t){const e=document.getElementById("toast"),n=document.getElementById("toast-msg");n.textContent=t,e.classList.remove("hidden"),e.offsetHeight,e.classList.add("show"),N&&clearTimeout(N),N=setTimeout(()=>{e.classList.remove("show"),setTimeout(()=>e.classList.add("hidden"),300)},2500)}function ee(t){const e=document.getElementById("add-to-playlist-modal"),n=document.getElementById("playlist-select-list"),s=document.getElementById("atp-cancel"),i=_();n.innerHTML=i.length?i.map(a=>`
    <div class="playlist-select-item" data-id="${a.id}">
      <svg viewBox="0 0 24 24" fill="currentColor"><path d="M15 6H3v2h12V6zm0 4H3v2h12v-2zM3 16h8v-2H3v2zM17 6v8.18c-.31-.11-.65-.18-1-.18-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3V8h3V6h-5z"/></svg>
      <span>${a.name} (${a.tracks.length} lagu)</span>
    </div>
  `).join(""):'<p style="color:var(--text-secondary);padding:16px;text-align:center;">Belum ada playlist. Buat dulu di halaman Playlists.</p>',e.classList.remove("hidden"),n.querySelectorAll(".playlist-select-item").forEach(a=>{a.addEventListener("click",()=>{const r=Lt(a.dataset.id,t);L(r?"Ditambahkan ke playlist!":"Lagu sudah ada di playlist ini"),e.classList.add("hidden")})}),s.addEventListener("click",()=>e.classList.add("hidden"),{once:!0}),e.addEventListener("click",a=>{a.target===e&&e.classList.add("hidden")},{once:!0})}function Ht(){var j,Y,G,J,K;const t=document.getElementById("player-bar"),e=document.getElementById("player-album-art"),n=document.getElementById("player-track-title"),s=document.getElementById("player-track-artist"),i=document.getElementById("progress-fill"),a=document.getElementById("progress-input"),r=document.getElementById("btn-play"),c=document.getElementById("play-icon"),u=document.getElementById("player-like-btn"),d=document.getElementById("btn-shuffle"),h=document.getElementById("btn-repeat"),m=document.getElementById("volume-slider"),f=document.getElementById("now-playing-view"),R=document.getElementById("np-album-art"),U=document.getElementById("np-backdrop"),ht=document.getElementById("np-track-title"),mt=document.getElementById("np-track-artist"),O=document.getElementById("np-progress-input"),F=document.getElementById("np-current-time"),z=document.getElementById("np-total-time"),Q=document.getElementById("np-play"),ft=document.getElementById("np-play-icon"),y=document.getElementById("np-like"),I=document.getElementById("np-shuffle"),B=document.getElementById("np-repeat"),gt="M6 19h4V5H6v14zm8-14v14h4V5h-4z",pt="M8 5v14l11-7z";l.onTrackChange=async o=>{t.classList.remove("hidden"),e.src=o.albumArt||o.albumArtSmall||"",n.textContent=o.title,s.textContent=o.artist;const E=vt(o.id);u.classList.toggle("liked",E),y==null||y.classList.toggle("liked",E),R.src=o.albumArt||"",U.style.backgroundImage=`url(${o.albumArt||""})`,ht.textContent=o.title,mt.textContent=o.artist,i.style.width="0%",a.value=0,O.value=0,F.textContent="0:00",z.textContent=Ot(o.duration),document.querySelectorAll(".track-item").forEach(x=>{x.classList.toggle("playing",x.dataset.trackId===o.id)}),Rt();const V=document.getElementById("np-lyrics-content");if(V&&!document.getElementById("np-lyrics-panel").classList.contains("hidden")){V.innerHTML='<p class="lyrics-placeholder">Mencari lirik...</p>';const x=await ct(o.artist,o.title);dt(x,V)}},l.onPlayStateChange=o=>{const E=o?gt:pt;c.innerHTML=`<path d="${E}"/>`,ft.innerHTML=`<path d="${E}"/>`},l.onTimeUpdate=o=>{i.style.width=`${o.progress}%`,a.value=o.progress,O.value=o.progress,F.textContent=l.formatTime(o.current),o.duration&&(z.textContent=l.formatTime(o.duration));const E=document.getElementById("np-lyrics-content");E&&!document.getElementById("np-lyrics-panel").classList.contains("hidden")&&Mt(o.current,E)},l.onLoading=o=>{r.style.opacity=o?"0.6":"1",Q.style.opacity=o?"0.6":"1"},l.onError=o=>L(o),r.addEventListener("click",()=>l.togglePlay()),Q.addEventListener("click",()=>l.togglePlay()),document.getElementById("btn-next").addEventListener("click",()=>l.next()),document.getElementById("np-next").addEventListener("click",()=>l.next()),document.getElementById("btn-prev").addEventListener("click",()=>l.prev()),document.getElementById("np-prev").addEventListener("click",()=>l.prev()),a.addEventListener("input",o=>l.seek(o.target.value)),O.addEventListener("input",o=>l.seek(o.target.value)),u.addEventListener("click",()=>{if(!l.currentTrack)return;const o=W(l.currentTrack);u.classList.toggle("liked",o),y==null||y.classList.toggle("liked",o),L(o?"❤️ Ditambahkan ke Favorit":"Dihapus dari Favorit")}),y==null||y.addEventListener("click",()=>{if(!l.currentTrack)return;const o=W(l.currentTrack);u.classList.toggle("liked",o),y.classList.toggle("liked",o),L(o?"❤️ Ditambahkan ke Favorit":"Dihapus dari Favorit")}),d.addEventListener("click",()=>{const o=l.toggleShuffle();d.classList.toggle("active",o),I==null||I.classList.toggle("active",o),L(o?"Acak: Aktif":"Acak: Nonaktif")}),I==null||I.addEventListener("click",()=>{const o=l.toggleShuffle();d.classList.toggle("active",o),I.classList.toggle("active",o),L(o?"Acak: Aktif":"Acak: Nonaktif")}),h.addEventListener("click",()=>{const o=l.toggleRepeat();nt(o,h,B)}),B==null||B.addEventListener("click",()=>{const o=l.toggleRepeat();nt(o,h,B)}),m.value=ot(),m.addEventListener("input",o=>l.setVolume(parseInt(o.target.value))),(j=document.getElementById("btn-nowplaying"))==null||j.addEventListener("click",()=>{f.classList.remove("hidden")}),(Y=document.getElementById("player-track-info"))==null||Y.addEventListener("click",()=>{l.currentTrack&&f.classList.remove("hidden")}),(G=document.getElementById("np-close"))==null||G.addEventListener("click",()=>{f.classList.add("hidden")}),(J=document.getElementById("btn-lyrics"))==null||J.addEventListener("click",()=>{f.classList.remove("hidden"),it()}),(K=document.getElementById("np-lyrics-btn"))==null||K.addEventListener("click",()=>{it()})}function nt(t,...e){L(["Ulangi: Mati","Ulangi: Semua","Ulangi: Satu"][t]),e.forEach(s=>{s&&(s.classList.toggle("active",t>0),t===2?s.style.opacity="1":s.style.opacity="")})}async function it(){const t=document.getElementById("np-lyrics-panel"),e=document.getElementById("np-lyrics-content");if(t.classList.toggle("hidden"),!t.classList.contains("hidden")&&l.currentTrack){e.innerHTML='<p class="lyrics-placeholder">Mencari lirik...</p>';const n=await ct(l.currentTrack.artist,l.currentTrack.title);dt(n,e)}}function Nt(){const t=document.getElementById("theme-toggle-checkbox"),e=document.getElementById("theme-toggle-label"),n=localStorage.getItem("theme")||"light";document.body.dataset.theme=n,t.checked=n==="dark",s(n),t.addEventListener("change",()=>{const i=t.checked?"dark":"light";document.body.dataset.theme=i,localStorage.setItem("theme",i),s(i)});function s(i){e.textContent=i==="dark"?"Mode Gelap":"Mode Terang"}}async function Dt(){document.querySelectorAll(".nav-item, .bottom-nav-item").forEach(t=>{t.addEventListener("click",e=>{e.preventDefault(),ut(t.dataset.page)})}),Ht(),Nt(),kt(),window.addEventListener("hashchange",et),et()}document.addEventListener("DOMContentLoaded",Dt);export{Yt as a,st as b,Jt as c,Ft as d,q as e,L as f,rt as g,_ as h,Qt as i,zt as j,ee as k,vt as l,Ot as m,ut as n,It as o,l as p,te as q,Gt as r,Zt as s,W as t,Wt as u,Xt as v,wt as w,jt as x,Kt as y};
